<section class="space-y-6">

  <div class="flex justify-between items-center">
    <h1 class="text-2xl font-semibold text-[var(--color-text)] dark:text-gray-100">
      Factures
    </h1>
    <button class="px-4 py-2 rounded-lg bg-[var(--color-primary)] text-white hover:bg-orange-600 transition">
      + Nouvelle facture
    </button>
  </div>

  <!-- Skeleton Loader -->
  <div *ngIf="loading()" class="animate-pulse space-y-4">
    <div class="h-12 bg-gray-200 dark:bg-gray-700 rounded-lg"></div>
    <div class="h-12 bg-gray-200 dark:bg-gray-700 rounded-lg"></div>
    <div class="h-12 bg-gray-200 dark:bg-gray-700 rounded-lg"></div>
  </div>

  <!-- Table -->
  <div *ngIf="!loading()" class="overflow-x-auto">
    <table class="min-w-full bg-white dark:bg-gray-800 rounded-lg shadow-sm">
      <thead class="bg-gray-50 dark:bg-gray-700">
        <tr>
          <th class="px-4 py-2 text-left text-sm font-medium text-gray-600 dark:text-gray-300">#ID</th>
          <th class="px-4 py-2 text-left text-sm font-medium text-gray-600 dark:text-gray-300">Client</th>
          <th class="px-4 py-2 text-left text-sm font-medium text-gray-600 dark:text-gray-300">Date</th>
          <th class="px-4 py-2 text-left text-sm font-medium text-gray-600 dark:text-gray-300">Montant</th>
          <th class="px-4 py-2 text-left text-sm font-medium text-gray-600 dark:text-gray-300">Statut</th>
          <th class="px-4 py-2 text-left text-sm font-medium text-gray-600 dark:text-gray-300">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let inv of invoices" class="border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition">
          <td class="px-4 py-2">{{ inv.id }}</td>
          <td class="px-4 py-2">{{ inv.customer }}</td>
          <td class="px-4 py-2">{{ inv.date }}</td>
          <td class="px-4 py-2">{{ inv.amount | currency:'XOF':'symbol' }}</td>
          <td class="px-4 py-2">
            <span class="px-2 py-1 rounded-full text-xs font-semibold" [ngClass]="formatStatus(inv.status)">
              {{ inv.status }}
            </span>
          </td>
          <td class="px-4 py-2 flex items-center gap-2">
            <button class="p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-600 transition">
              <i class="ri-eye-line text-[var(--color-primary)]"></i>
            </button>
            <button class="p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-600 transition" (click)="payInvoice(inv)">
              <i class="ri-check-line text-[var(--color-primary)]"></i>
            </button>
            <button class="p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-600 transition">
              <i class="ri-delete-bin-line text-red-500"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</section>
