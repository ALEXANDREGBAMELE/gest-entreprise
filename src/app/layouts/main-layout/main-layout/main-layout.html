<div class="flex h-screen bg-[var(--color-surface)] text-[var(--color-text)]">

  <!-- Sidebar desktop -->
  <aside
    [ngStyle]="{ width: sidebarWidth() }"
    class="hidden lg:flex flex-col bg-[var(--color-secondary)] text-white transition-all duration-[var(--transition-speed)]"
  >
    <app-sidebar [collapsed]="!sidebarOpen()"></app-sidebar>
  </aside>

  <!-- Mobile sidebar overlay -->
   @if (sidebarOpen()){
 <div  class="fixed inset-0 z-40 lg:hidden">
    <div class="absolute inset-0 bg-black/50" (click)="toggleMobileSidebar()"></div>
    <aside class="relative w-[var(--sidebar-width-full)] h-full bg-[var(--color-secondary)] text-white transition-transform duration-[var(--transition-speed)]">
      <app-sidebar [collapsed]="false"></app-sidebar>
    </aside>
  </div>
   }
 

  <!-- Main content -->
  <div class="flex flex-col flex-1 transition-all duration-[var(--transition-speed)]">

    <!-- Header -->
    <header class="h-[var(--header-height)] bg-[var(--color-primary)] dark:bg-[#020617] shadow px-4 flex items-center justify-between">
      <app-header class="w-[100%]"
        (toggleSidebar)="toggleSidebar()"
        (toggleSidebarMobile)="toggleMobileSidebar()"
      ></app-header>
    </header>

    <!-- Main container -->
    <main class="flex-1 overflow-y-auto p-4 lg:p-6">
      <app-breadcrumb></app-breadcrumb>
      <router-outlet></router-outlet>
    </main>

    <app-footer></app-footer>

  </div>
</div>
